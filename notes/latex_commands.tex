%
% FIXME note
%
\newcommand\FIXME[1]{{\bf FIXME \{}#1{\bf \}}}
\newcommand\TODO[1]{{\bf TODO \{}#1{\bf \}}}

%
% Frequently used compound nouns
%
\newcommand{\BKT}{\textrm{Berezinksii-Kosterlitz-Thouless}}
\newcommand{\TSF}{\textrm{Topological-sector fluctuations}}
\newcommand{\tsf}{\textrm{topological-sector fluctuations}}
\newcommand{\PDF}{\textrm{Probability density function}}
\newcommand{\pdf}{\textrm{probability density function}}
\newcommand{\PDFS}{\textrm{Probability density functions}}
\newcommand{\pdfs}{\textrm{probability density functions}}
\newcommand{\PSD}{\textrm{Power spectral density}}
\newcommand{\psd}{\textrm{power spectral density}}
\newcommand{\PSDS}{\textrm{Power spectral densities}}
\newcommand{\psds}{\textrm{power spectral densities}}
\newcommand{\MCMC}{\textrm{Markov-chain Monte Carlo}}
\newcommand{\ECMC}{\textrm{Event-chain Monte Carlo}}
\newcommand{\ecmc}{\textrm{event-chain Monte Carlo}}
\newcommand{\MWG}{\textrm{Metropolis-within-Gibbs}}
\newcommand{\MALA}{\textrm{Metropolis-adjusted Langevin algorithm}}
\newcommand{\MD}{\textrm{Molecular dynamics}}
\newcommand{\md}{\textrm{molecular dynamics}}
\newcommand{\HMC}{\textrm{Hamiltonian Monte Carlo}}
\newcommand{\JF}{\textrm{JeLLyFysh}}
\newcommand{\LSCO}{\textrm{Lanthanum strontium copper oxide}}
\newcommand{\lsco}{\textrm{lanthanum strontium copper oxide}}
\newcommand{\pcpd}{\textrm{point-charge--point-dipole}}
\newcommand{\PCPD}{\textrm{Point-charge--point-dipole}}


%
% Definitions for algorithms
%
\newcommand{\PROCEDURE}[1]{\textbf{procedure}\ \sub{#1}}
\newcommand{\CALL}[2][]{\textbf{call}\ \FUNCTION[#1]{#2} }
\newcommand{\FUNCTION}[2][]{\sub{#2} \glb #1 \grb }
\newcommand{\BRACE}[1]{
\;\;\;  \left\{\begin{array}{l}#1\end{array} \right.}
\newcommand{\IS}[2]{#1 \leftarrow #2}
\newcommand{\SWAP}[2]{#1 \leftrightarrow #2}
\newcommand{\FOR}[1]{\textbf{for}\ #1\ \textbf{do}}
\newcommand{\WHILE}[1]{\textbf{while (} #1 \textbf{) do}}
\newcommand{\ENDPROCEDURE}{\text{------} \\ \vspace{-0.8cm}}
\newcommand{\ENDPROCEDURET}{\text{------} \\ \vspace{-0.5cm}} % ENDPROCEDURE IN 
\newcommand{\GOTO}[1]{\textbf{goto}\ #1}
\newcommand{\CONTINUE}{\textbf{continue}}
\newcommand{\DO}{\textbf{do}}
\newcommand{\EXIT}{\textbf{exit}}
\newcommand{\IF}[1]{\textbf{if } #1 \textbf{: }}
\newcommand{\IFTHEN}[1]{\textbf{if (} #1 \textbf{) then}}
\newcommand{\ELSEIFTHEN}[1]{\textbf{else if (} #1 \textbf{) then}}
\newcommand{\IFELSE}[3]{\textbf{if (} #1 \textbf{) \{} #2 \textbf{\} else \{} #3
\textbf{\}} }
\newcommand{\AND}{\text{and}}
%\newcommand{\AND}{\wedge} % not explicit enough
\newcommand{\OR}{\text{or}}
\newcommand{\SETPLUS}{\uplus}  % used in      SET \SETPLUS {j}
\newcommand{\THEN}{\textbf{then}}
\newcommand{\STOP}{\textbf{stop}}
\newcommand{\ELSE}{\textbf{else:}}
\newcommand{\ELSEIF}[1]{\textbf{else if } #1 \textbf{: then}}
\newcommand{\OUTPUT}[1]{\textbf{output}\ #1}
\newcommand{\SORT}[1]{\text{sort[} #1\text{]}}
\newcommand{\INPUT}[1]{\textbf{input}\ #1}
\newcommand{\COMMENT}[1]{\text{\footnotesize (#1)}}
\newcommand{\TABLE}[1]{\{#1\}}
\newcommand{\LIST}[1]{\{#1\}}
\newcommand{\NULLLIST}{\LIST{0 \TO 0 }}
\newcommand{\SET}[1]{\{#1\}}
\newcommand{\EMPTYSET}{\{ \}}
\newcommand{\NULLSET}{\SET{0 \TO 0 }}
\newcommand{\sub}[1]{\texttt{#1}}
%
% definition of pi and complex unity
%
\newcommand{\mpi}{\uppi}
\newcommand{\mi}{\mathrm{i}}
%
% Definitions for text, equation numbers, figures, etc
%
\newcommand{\Fig}[1]{Fig.~\ref{#1}}
\newcommand{\fig}[1]{fig.~\ref{#1}}
\newcommand{\Eq}[1]{Eq.~\eqref{#1}}
\newcommand{\eq}[1]{eq.~\eqref{#1}}
\newcommand{\eqtwo}[2]{eqs~\eqref{#1} and~\eqref{#2}}
\newcommand{\Eqtwo}[2]{Eqs~\eqref{#1} and~\eqref{#2}}
\newcommand{\quot}[1]{``#1''}
\newcommand{\tab}[1]{Table~\ref{#1}} 
\newcommand{\chap}[1]{Chapter~\ref{#1}} 
\newcommand{\sect}[1]{Section~\ref{#1}} 
\newcommand{\secttwo}[2]{Sections~\ref{#1} and~\ref{#2}} 
\newcommand{\SECT}[1]{\ref{#1}} 
\newcommand{\eg}{\textrm{e.g.}}
\newcommand{\cf}{\textrm{cf}}
\newcommand{\etc}{\textrm{etc.}}
\newcommand{\etcp}{\textrm{etc}}
\newcommand{\ie}{\textrm{i.e.}}
\newcommand{\vs}{\textrm{vs.}}
\newcommand{\rmi}[2]{\ensuremath{#1_\mathrm{#2}}}
\newcommand{\Twodim}{Two-dimensional}
\newcommand{\twodim}{two-dimensional}
\newcommand{\wrm}{\textrm{w}}

%
% text-indices
%
\newcommand{\betac}{\beta_{\text{c}}}  %  Critical inverse temperature
\newcommand{\Tc}{T_{\text{c}}}  %  Critical temperature
\newcommand{\Tbkt}{T_{\text{BKT}}}  %  BKT temperature
\newcommand{\Tstar}{T^*(L)}  %  lower finite-size BKT transition temperature
\newcommand{\Tr}{\text{Tr}}  %  Trace
\newcommand{\I}{\mathrm i} % number i

%
%  non-diagonal density matrix , with optional parameter for `sym' `box' `cube' etc
%
\newcommand{\rhomat}[4][]{\rho^{\text{#1}\!}\lc #2,#3,#4\rc}
%
%
\newcommand{\dos}[2][]{\mathcal{N}^{#1} \! \glb #2 \grb} %  density of states
\newcommand{\dosa}[2][]{\mathcal{N}^{#1}_{#2}} %  density of states
\newcommand{\dosb}[2][]{\mathcal{N}^{#1} \! \glb #2 \grb} %  density of states
\newcommand{\dosc}[2][]{\mathcal{N}^{#1} \! \glc #2 \grc} %  density of states
%
\newcommand{\ACAL}{\mathcal{A}}  %  mathcal 
\newcommand{\BCAL}{\mathcal{B}}  %  mathcal
\newcommand{\CCAL}{\mathcal{C}}  %  mathcal
\newcommand{\DCAL}{\mathcal{D}}  %  mathcal
\newcommand{\ECAL}{\mathcal{E}}  %  mathcal
\newcommand{\FCAL}{\mathcal{F}}  %  mathcal
\newcommand{\GCAL}{\mathcal{G}}  %  mathcal
\newcommand{\LCAL}{\mathcal{L}}  %  mathcal
\newcommand{\MCAL}{\mathcal{M}}  %  mathcal
\newcommand{\NCAL}{\mathcal{N}}  %  mathcal
\newcommand{\OCAL}{\mathcal{O}}  %  mathcal
\newcommand{\PCAL}{\mathcal{P}}  %  mathcal
\newcommand{\QCAL}{\mathcal{Q}}  %  mathcal
\newcommand{\RCAL}{\mathcal{R}}  %  mathcal
\newcommand{\SCAL}{\mathcal{S}}  %  mathcal
\newcommand{\TCAL}{\mathcal{T}}  %  mathcal
\newcommand{\VCAL}{\mathcal{V}}  %  mathcal
\newcommand{\XCAL}{\mathcal{X}}  %  mathcal
\newcommand{\ZCAL}{\mathcal{Z}}  %  mathcal
%
\newcommand{\Abar}{\overline{A}}  %  overbar 
\newcommand{\Bbar}{\overline{B}}  %  overbar
\newcommand{\Cbar}{\overline{C}}  %  overbar
\newcommand{\Dbar}{\overline{D}}  %  overbar
%\newcommand{\Ebar}{\overline{E}}  %  overbar
%\newcommand{\Fbar}{\overline{F}}  %  overbar
\newcommand{\Gbar}{\overline{G}}  %  overbar
\newcommand{\Mbar}{\overline{M}}  %  overbar
\newcommand{\Nbar}{\overline{N}}  %  overbar
\newcommand{\Obar}{\overline{O}}  %  overbar
\newcommand{\Pbar}{\overline{P}}  %  overbar
\newcommand{\Qbar}{\overline{Q}}  %  overbar
\newcommand{\Rbar}{\overline{R}}  %  overbar
\newcommand{\Sbar}{\overline{S}}  %  overbar
\newcommand{\Tbar}{\overline{T}}  %  overbar
\newcommand{\Vbar}{\overline{V}}  %  overbar
\newcommand{\Xbar}{\overline{X}}  %  overbar
\newcommand{\Zbar}{\overline{Z}}  %  overbar
% the common Greek letters and their bold versions
%
\newcommand{\s}{\sigma}
\newcommand{\pitilde}{\tilde{\pi}}
\newcommand{\stilde}{\tilde{\sigma}}
\newcommand{\bs}{\boldsymbol{\sigma}}
\newcommand{\eps}{\varepsilon}
%
% poor man's bold for + and - (used for spins)
%
\newcommand{\minus}{\ensuremath{\pmb{-}}}
\newcommand{\plus}{\ensuremath{\pmb{+}}}
%
% Definition for { text } in equations (in columnar style)
%
\newcommand{\eqntexta}[1]{\!\!\!\mbox{\begin{tabular}{c}  #1 \end{tabular}}\!\!\! }
\newcommand{\eqntextb}[1]{\left(\!\!\!\mbox{\begin{tabular}{c}  #1 \end{tabular}}\!\!\! \right)}
\newcommand{\eqntext}[1]{\left\{\!\!\!\mbox{\begin{tabular}{c}  #1 \end{tabular}}\!\!\! \right\}}
%
% Definitions for display math
%
\newcommand{\BRA}[1]{\ensuremath{\langle #1 |}} % Dirac notation 
\newcommand{\BRAN}[1]{\ensuremath{\langle #1 }} % Dirac notation  Bra without |
\newcommand{\KET}[1]{\ensuremath{|#1 \rangle }} % Dirac notation

%
% Set notation
%
\newcommand{\ZZ}{\mathbb{Z}}
\newcommand{\RR}{\mathbb{R}}


%
% Groupings on levels a--nothing, b--(), c--[], d--{}, and e--||
%
\newcommand{\gla}{\,}  % ' group left a' 
\newcommand{\gra}{}  % ' group right a' 
\newcommand{\glb}{\left(}  % ' group left b' 
\newcommand{\grb}{\right)}  % ' group right b' 
\newcommand{\glc}{\left[}  % ' group left c'
\newcommand{\grc}{\right]}  % ' group right c' 
\newcommand{\gld}{\left\{}  % ' group left d' 
\newcommand{\grd}{\right\}}  % ' group right d' 
\newcommand{\glabs}{\left|}  % ' absolute-value group left 
\newcommand{\grabs}{\right|}  % ' absolute-value group right' 
\newcommand{\glnorm}{\left\lVert}  % ' vector-norm group left 
\newcommand{\grnorm}{\right\rVert}  % ' vector-norm group right' 

%
% Groupings on levels a--nothing, b--(), c--[], d--{}, and e--||
%
\newcommand{\bracketsa}[1]{\gla #1 \gra}  % 'parenthesis pair a' 
\newcommand{\bracketsb}[1]{\glb #1 \grb}  % 'parenthesis pair b' 
\newcommand{\bracketsc}[1]{\glc #1 \grc}  % 'parenthesis pair c' 
\newcommand{\bracketsd}[1]{\gld #1 \grd}  % 'parenthesis pair d' 
\newcommand{\absbrackets}[1]{\glabs #1 \grabs}  % 'absolute-value parenthesis pair 
\newcommand{\normbrackets}[1]{\glnorm #1 \grnorm}  % 'vector-norm parenthesis pair 

%
% exponentials with braces 'a': no brace 'b' () 'c' [] 'd' {}
%
\newcommand{\expa}[1]{\mathrm{e}^{#1}}   % high exponential groupings a
\newcommand{\expb}[1]{\exp \glb #1 \grb} % low exponential with groupings b
\newcommand{\expba}[1]{\exp \bigl( #1 \bigr)} % low exponential with groupings b-small
\newcommand{\expbb}[1]{\exp \Bigl( #1 \Bigr)} % low exponential with groupings b-medium
\newcommand{\expbc}[1]{\exp \biggl( #1 \biggr)} % low exponential with groupings b-large
\newcommand{\expbd}[1]{\exp \Biggl( #1 \Biggr)} % low exponential with groupings b-Xlarge
\newcommand{\expc}[1]{\exp \glc #1 \grc} % low exponential with groupings c
\newcommand{\expd}[1]{\exp \gld #1 \grd} % low exponential with groupings d

%
% ran functions 
%
\newcommand{\rana}[2][]{\ran_{#1} \! \gla #2 \gra}  % ran-brace,  with - nothing
\newcommand{\ranb}[2][]{\ran_{#1} \! \glb #2 \grb}  % ran-brace,  with - nothing
\newcommand{\ranc}[2][]{\ran_{#1} \! \glc #2 \grc}  % ran-brace,  with - nothing
\newcommand{\rand}[2][]{\ran_{#1} \! \gld #2 \grd}  % ran-brace,  with - nothing

%
% Real and imaginary parts
%
\newcommand{\Reala}[2][]{\rm{Re}_{#1} \! \gla #2 \gra}  % ran-brace,  with - nothing
\newcommand{\Realb}[2][]{\rm{Re}_{#1} \! \glb #2 \grb}  % ran-brace,  with - nothing
\newcommand{\Realc}[2][]{\rm{Re}_{#1} \! \glc #2 \grc}  % ran-brace,  with - nothing
\newcommand{\Reald}[2][]{\rm{Re}_{#1} \! \gld #2 \grd}  % ran-brace,  with - nothing

\newcommand{\Imaga}[2][]{\rm{Im}_{#1} \! \gla #2 \gra}  % ran-brace,  with - nothing
\newcommand{\Imagb}[2][]{\rm{Im}_{#1} \! \glb #2 \grb}  % ran-brace,  with - nothing
\newcommand{\Imagc}[2][]{\rm{Im}_{#1} \! \glc #2 \grc}  % ran-brace,  with - nothing
\newcommand{\Imagd}[2][]{\rm{Im}_{#1} \! \gld #2 \grd}  % ran-brace,  with - nothing

%
% Fourier transforms
%
\newcommand{\fouriera}[2][]{\mathcal{F} \! \gla #2 \gra \! (f)}
\newcommand{\fourierb}[2][]{\mathcal{F} \! \glb #2 \grb \! (f)}
\newcommand{\fourierc}[2][]{\mathcal{F} \! \glc #2 \grc \! (f)}
\newcommand{\fourierd}[2][]{\mathcal{F} \! \gld #2 \grd \! (f)}

\newcommand{\finitefouriera}[2][]{\mathcal{F}_{\tau} \! \gla #2 \gra \! (f)}
\newcommand{\finitefourierb}[2][]{\mathcal{F}_{\tau} \! \glb #2 \grb \! (f)}
\newcommand{\finitefourierc}[2][]{\mathcal{F}_{\tau} \! \glc #2 \grc \! (f)}
\newcommand{\finitefourierd}[2][]{\mathcal{F}_{\tau} \! \gld #2 \grd \! (f)}

%
% statistical means of functions with braces 'a': no brace 'b' () 'c' [] 'd' {}
%
\newcommand{\mean}[2][]{\mathbb{E}_{#1} #2}
\newcommand{\meana}[2][]{\mathbb{E}_{#1} \gla #2 \gra}
\newcommand{\meanb}[2][]{\mathbb{E}_{#1} \glb #2 \grb}
\newcommand{\meanc}[2][]{\mathbb{E}_{#1} \glc #2 \grc}
\newcommand{\meand}[2][]{\mathbb{E}_{#1} \gld #2 \grd}

%
% time averages of functions with braces 'a': no brace 'b' () 'c' [] 'd' {}
%
\newcommand{\timeave}[1]{\langle #1 \rangle_t}

%
% Ramp functions
%
\newcommand{\maxZeroa}[1]{\gla #1 \gra^+}   % maxzero ()
\newcommand{\maxZerob}[1]{\glb #1 \grb^+}   % maxzero ()
\newcommand{\maxZeroc}[1]{\glc #1 \grc^+}   % maxzero []
\newcommand{\maxZerod}[1]{\gld #1 \grd^+}   % maxzero {}

%
% trigonometric functions with braces 'a': no brace 'b' () 'c' [] 'd' {}
%
\newcommand{\sina}[2][]{\sin^{#1} \! \gla #2 \gra}  % sin-brace,  with - nothing
\newcommand{\cosa}[2][]{\cos^{#1} \! \gla #2 \gra}  % cos-brace,  with - nothing
\newcommand{\tana}[2][]{\tan^{#1} \!\gla #2 \gra}  % tan-brace,  with - nothing
\newcommand{\cota}[2][]{\cot^{#1} \!\gla #2 \gra}  % cot-brace,  with - nothing
\newcommand{\sinha}[2][]{\sinh^{#1}\! \gla #2 \gra} % sinh-brace, with - nothing
\newcommand{\cosha}[2][]{\cosh^{#1}\! \gla #2 \gra} % cosh-brace, with - nothing
\newcommand{\tanha}[2][]{\tanh^{#1}\! \gla #2 \gra} % tanh-brace, with - nothing
\newcommand{\cotha}[2][]{\coth^{#1}\! \gla #2 \gra} % coth-brace, with - nothing

\newcommand{\sinb}[2][]{\sin^{#1} \glb #2 \grb}  % sin-brace,  with - ()
\newcommand{\cosb}[2][]{\cos^{#1} \glb #2 \grb}  % cos-brace,  with - ()
\newcommand{\tanb}[2][]{\tan^{#1} \glb #2 \grb}  % tan-brace,  with - ()
\newcommand{\cotb}[2][]{\cot^{#1} \glb #2 \grb}  % cot-brace,  with - ()
\newcommand{\sinhb}[2][]{\sinh^{#1} \glb #2 \grb} % sinh-brace, with - ()
\newcommand{\coshb}[2][]{\cosh^{#1} \glb #2 \grb} % cosh-brace, with - ()
\newcommand{\tanhb}[2][]{\tanh^{#1} \glb #2 \grb} % tanh-brace, with - ()
\newcommand{\cothb}[2][]{\coth^{#1} \glb #2 \grb} % coth-brace, with - ()

\newcommand{\sinc}[2][]{\sin^{#1} \glc #2 \grc}  % sin-brace,  with - []
\newcommand{\cosc}[2][]{\cos^{#1} \glc #2 \grc}  % cos-brace,  with - []
\newcommand{\tanc}[2][]{\tan^{#1} \glc #2 \grc}  % tan-brace,  with - []
\newcommand{\cotc}[2][]{\cot^{#1} \glc #2 \grc}  % cot-brace,  with - []
\newcommand{\sinhc}[2][]{\sinh^{#1} \glc #2 \grc} % sinh-brace, with - []
\newcommand{\coshc}[2][]{\cosh^{#1} \glc #2 \grc} % cosh-brace, with - []
\newcommand{\tanhc}[2][]{\tanh^{#1} \glc #2 \grc} % tanh-brace, with - []
\newcommand{\cothc}[2][]{\coth^{#1} \glc #2 \grc} % coth-brace, with - []

\newcommand{\sind}[2][]{\sin^{#1} \gld #2 \grd}  % sin-brace,  with - {}
\newcommand{\cosd}[2][]{\cos^{#1} \gld #2 \grd}  % cos-brace,  with - {}
\newcommand{\tand}[2][]{\tan^{#1} \gld #2 \grd}  % tan-brace,  with - {}
\newcommand{\cotd}[2][]{\cot^{#1} \gld #2 \grd}  % cot-brace,  with - {}
\newcommand{\sinhd}[2][]{\sinh^{#1} \gld #2 \grd} % sinh-brace, with - {}
\newcommand{\coshd}[2][]{\coth^{#1} \gld #2 \grd} % cosh-brace, with - {}
\newcommand{\tanhd}[2][]{\tanh^{#1} \gld #2 \grd} % tanh-brace, with - {}
\newcommand{\cothd}[2][]{\coth^{#1} \gld #2 \grd} % coth-brace, with - {}

\newcommand{\loga}[2][]{\log^{#1}\! \gla #2 \gra}  % log-brace,  with - nothing
\newcommand{\logb}[2][]{\log^{#1} \glb #2 \grb}  % log-brace,  with - ()
\newcommand{\logc}[2][]{\log^{#1} \glc #2 \grc}  % log-brace,  with - []
\newcommand{\logd}[2][]{\log^{#1} \gld #2 \grd}  % log-brace,  with - {}

\newcommand{\maxa}[2][]{\max^{#1}\! \gla #2 \gra}% max-brace,  with - nothing
\newcommand{\maxb}[2][]{\max^{#1} \glb #2 \grb}  % max-brace,  with - ()
\newcommand{\maxc}[2][]{\max^{#1} \glc #2 \grc}  % max-brace,  with - []
\newcommand{\maxd}[2][]{\max^{#1} \gld #2 \grd}  % max-brace,  with - {}

\newcommand{\mina}[2][]{\min^{#1}\! \gla #2 \gra}% min-brace,  with - nothing
\newcommand{\minb}[2][]{\min^{#1} \glb #2 \grb}  % min-brace,  with - ()
\newcommand{\minc}[2][]{\min^{#1} \glc #2 \grc}  % min-brace,  with - []
\newcommand{\mind}[2][]{\min^{#1} \gld #2 \grd}  % min-brace,  with - {}

\newcommand{\arccosa}[2][]{\arccos^{#1}\! \gla #2 \gra}  % arccos-brace,  with - nothing
\newcommand{\arccosb}[2][]{\arccos^{#1} \glb #2 \grb}  % arccos-brace,  with - ()
\newcommand{\arccosc}[2][]{\arccos^{#1} \glc #2 \grc}  % arccos-brace,  with - []
\newcommand{\arccosd}[2][]{\arccos^{#1} \gld #2 \grd}  % arccos-brace,  with - {}


\newcommand{\arctana}[2][]{\arctan^{#1}\! \gla #2 \gra}  % arctan-brace,  with - nothing
\newcommand{\arctanb}[2][]{\arctan^{#1} \glb #2 \grb}  % arctan-brace,  with - ()
\newcommand{\arctanc}[2][]{\arctan^{#1} \glc #2 \grc}  % arctan-brace,  with - []
\newcommand{\arctand}[2][]{\arctan^{#1} \gld #2 \grd}  % arctan-brace,  with - {}


\newcommand{\mult}{\times} % multiplication sign in display math, 
\newcommand{\multcc}{\cdot} % multiplication: character times character
\newcommand{\multnn}{\times} % multiplication:    number times number 
\newcommand{\multcn}{\cdot} % multiplication: character times number
\newcommand{\ran}[2]{\FUNCTION[#1,#2]{ran}}
\newcommand{\nran}[2]{\FUNCTION[#1,#2]{nran}}
\newcommand{\perL}{\text{per,$L$}}
\newcommand{\perLL}{\text{per,$2L$}}
\newcommand{\boxx}[1]{\text{box,$#1$}}

%
% differential operators
%
\newcommand{\partialderiv}[1]{\frac{\partial}{\partial #1}}
\newcommand{\partialderivshort}[2]{\partial_{#2} #1}
\newcommand{\xdot}{\dot{x}}
\newcommand{\pdot}{\dot{p}}

\newcommand{\const}{\text{const}}
\newcommand{\Nhits}{N_{\text{hits}}}
\newcommand{\gauss}[1]{\FUNCTION[#1]{gauss}}
\newcommand{\PLUSPLUS}{+ \dots +}
\newcommand{\PLUSDOTS}{+ \cdots}
\newcommand{\MINUSPLUS}{- \dots +}
\newcommand{\MINUSDOTS}{- \cdots}
\newcommand{\PLUSMINUS}{+ \dots -}
\newcommand{\MINUSMINUS}{- \dots -}
\newcommand{\MULTMULT}{\cdot \cdots \cdot}
\newcommand{\TIMESTIMES}{\times \cdots \times}
\newcommand{\TO}{,\ldots,}
\newcommand{\VEC}[1]{\mathbf{#1}}

%
% vector notations
%
\newcommand{\DeltaPhi}{\boldsymbol{\Delta}\boldsymbol{\varphi}}
\newcommand{\DeltaPhiHat}{\boldsymbol{\Delta\hat{\boldsymbol{\varphi}}}}
\newcommand{\DeltaPhiBar}{\overline{\boldsymbol{\Delta}\boldsymbol{\varphi}}}
\newcommand{\DeltaPsi}{\boldsymbol{\Delta\boldsymbol{\psi}}}
\newcommand{\NablaBF}{\boldsymbol{\nabla}}
\newcommand{\NablaHat}{\hat{\boldsymbol{\nabla}}}
\newcommand{\NablaTilde}{\tilde{\boldsymbol{\nabla}}}
\newcommand{\NablaTildePhi}{\tilde{\boldsymbol{\nabla}}\phi}
\newcommand{\divEvec}{\NablaHat \cdot \Evec}
\newcommand{\divFvec}{\NablaHat \cdot \Fvec}
\newcommand{\Avec}{\mathbf{A}}
\newcommand{\Dvec}{\mathbf{D}}
\newcommand{\Eapp}{\mathbf{E}_{\rm app}}
\newcommand{\Ehat}{\hat{\mathbf{E}}}
\newcommand{\Etilde}{\tilde{\mathbf{E}}}
\newcommand{\Ebar}{\bar{\mathbf{E}}}
\newcommand{\Evec}{\mathbf{E}}
\newcommand{\evec}{\mathbf{e}}
\newcommand{\Fvec}{\mathbf{F}}
\newcommand{\Fhat}{\hat{\mathbf{F}}}
\newcommand{\Ftilde}{\tilde{\mathbf{F}}}
\newcommand{\Fbar}{\bar{\mathbf{F}}}
\newcommand{\Gvec}{\mathbf{G}}
\newcommand{\Hvec}{\mathbf{H}}
\newcommand{\hvec}{\mathbf{h}}
\newcommand{\Jvec}{\mathbf{J}}
\newcommand{\jvec}{\mathbf{j}}
\newcommand{\lvec}{\mathbf{l}}
\newcommand{\kvec}{\mathbf{k}}
\newcommand{\Mvec}{\mathbf{M}}
\newcommand{\mvec}{\mathbf{m}}
\newcommand{\nvec}{\mathbf{n}}
\newcommand{\Pvec}{\mathbf{P}}
\newcommand{\pvec}{\mathbf{p}}
\newcommand{\Qvec}{\mathbf{Q}}
\newcommand{\qvec}{\mathbf{q}}
\newcommand{\Rvec}{\mathbf{R}}
\newcommand{\rvec}{\mathbf{r}}
\newcommand{\tvec}{\mathbf{t}}
\newcommand{\vvec}{\mathbf{v}}
\newcommand{\Wvec}{\mathbf{W}}
\newcommand{\wvec}{\mathbf{w}}
\newcommand{\Xvec}{\mathbf{X}}
\newcommand{\xvec}{\mathbf{x}}
\newcommand{\zerovec}{\mathbf{0}}
\newcommand{\UnitX}{\mathbf{e}_x}
\newcommand{\UnitY}{\mathbf{e}_y}
\newcommand{\UnitZ}{\mathbf{e}_z}
\newcommand{\UnitXY}{\mathbf{e}_{x / y}}
\newcommand{\UnitNu}{\mathbf{e}_{\nu}}


\newcommand{\atilde}{\tilde{a}}
\newcommand{\btilde}{\tilde{b}}
\newcommand{\ctilde}{\tilde{c}}
\newcommand{\ptilde}{\tilde{p}}
\newcommand{\qtilde}{\tilde{q}}
\newcommand{\rtilde}{\tilde{r}}
\newcommand{\vtilde}{\tilde{v}}
\newcommand{\xtilde}{\tilde{x}}
\newcommand{\ytilde}{\tilde{y}}
\newcommand{\ztilde}{\tilde{z}}
\newcommand{\Dtilde}{\tilde{D}}
\newcommand{\Gtilde}{\tilde{G}}
\newcommand{\Qtilde}{\tilde{Q}}
\newcommand{\Rtilde}{\tilde{R}}
\newcommand{\phitilde}{\tilde{\phi}}
\newcommand{\Psitilde}{\tilde{\Psi}}
\newcommand{\psitilde}{\tilde{\psi}}
\newcommand{\sigmatilde}{\tilde{\sigma}}
\newcommand{\rhotilde}{\tilde{\rho}}
\newcommand{\alphavec}{\boldsymbol{\alpha}}
\newcommand{\betavec}{\boldsymbol{\beta}}
\newcommand{\gammavec}{\boldsymbol{\gamma}}
\newcommand{\deltavec}{\boldsymbol{\delta}}
\newcommand{\pivec}{\boldsymbol{\pi}}
\newcommand{\epsvec}{\boldsymbol{\varepsilon}}
\newcommand{\muvec}{\boldsymbol{\mu}}
\newcommand{\sigmavec}{\boldsymbol{\sigma}}
\newcommand{\varphivec}{\boldsymbol{\varphi}}
\newcommand{\xivec}{\boldsymbol{\xi}}
\newcommand{\del}{\delta}
\newcommand{\dd}[1]{\mathrm{d}{#1\ }}   % this is for differentials in formulas
\newcommand{\ddd}[1]{\mathrm{d}{#1}}   % same as above, without space 

%
% Delta_tau Delta_x Delta_y, etc
%
\newcommand{\Delbeta}{\Delta_{\beta}}
\newcommand{\DelE}{\Delta_E}
\newcommand{\Deli}{\Delta_i}
\newcommand{\Delk}{\Delta_k}
\newcommand{\Dellambda}{\Delta_{\lambda}}
\newcommand{\Delmu}{\Delta_{\mu}}
\newcommand{\DelM}{\Delta_{M}}
\newcommand{\Deln}{\Delta_n}
\newcommand{\Delphi}{\Delta_{\phi}}
\newcommand{\Delr}{\Delta_r}
\newcommand{\Delt}{\Delta_t}
\newcommand{\Deltau}{\Delta_{\tau}}
\newcommand{\Delvvec}{\Delta_{\vvec}}
\newcommand{\Delx}{\Delta_x}
\newcommand{\Delxp}{\Delta'_x}
\newcommand{\Delxk}{\Delta_{x_k}}
\newcommand{\Delxvec}{\Delta_{\xvec}}
\newcommand{\Delxvecp}{\Delta_{\xvec'}}
\newcommand{\Dely}{\Delta_y}
\newcommand{\Delyvec}{\Delta_{\yvec}}
\newcommand{\Delz}{\Delta_z}
%
% scalar product
%
\newcommand{\neigh}[2]{\langle #1 , #2 \rangle}
\newcommand{\scal}[2]{(#1 \pmb{\cdot} #2)}
\newcommand{\anglemean}[1]{\left\langle #1 \right\rangle}
\newcommand{\half}{\frac{1}{2}}
\newcommand{\thalf}{\tfrac{1}{2}}

%
% semantic markup
%
\newcommand{\bigO}[1]{\ensuremath{\OCAL(#1)}}
\newcommand{\bigOb}[1]{\ensuremath{\OCAL\glb #1 \grb}}
\newcommand{\bigOc}[1]{\ensuremath{\OCAL\glc #1 \grc}}
\newcommand{\bigOd}[1]{\ensuremath{\OCAL\gld #1 \grd}}
\newcommand{\Var}{\operatorname{Var}}
\newcommand{\diff[1]}{\mathrm{d}#1}

%
% ECMC
%
\newcommand{\lifted}[2]{\ensuremath{(#1,#2)}}
\newcommand{\lifting}[3]{\ensuremath{\lifted{#1}{#2} \to \lifted{#1}{#3}}}
\newcommand{\pMet}{p^{\text{Met} }}
\newcommand{\pFact}{p^{\text{Fact} }}
\newcommand{\Cell}{\ensuremath{\CCAL}}
\newcommand{\ActiveCell}{\ensuremath{\CCAL_a}}
\newcommand{\TargetCell}{\ensuremath{\CCAL_t}}
\newcommand{\qCell}{\ensuremath{q^{\text{cell}}}}
\newcommand{\Conf}{\ensuremath{c}}
\newcommand{\OldConf}{\ensuremath{c''}}
\newcommand{\NewConf}{\ensuremath{c'}}
\newcommand{\UpP}{\ensuremath{k^+}}
\newcommand{\DownP}{\ensuremath{k^-}}
\newcommand{\ActiveP}{\ensuremath{a}}
\newcommand{\TargetP}{\ensuremath{t}}
\newcommand{\OneP}{\ensuremath{1}} % Particle 1
\newcommand{\TwoP}{\ensuremath{2}} % Particle 2
\newcommand{\ThreeP}{\ensuremath{3}} % Particle 3
\newcommand{\FourP}{\ensuremath{4}} % Particle 4
\newcommand{\MassFlow}{\text{mass}} % Particle 2
\newcommand{\MolFact}{\text{mol.}} % Molecular factorized
\newcommand{\PairFact}{\text{pair}} % Pair factorized
\newcommand{\Deltax}{{\eta}}
\newcommand{\KK}{{K}}
\newcommand{\FACTOR}[2]{\glb #1, #2 \grb}
\newcommand{\TYPE}[2][]{\gla \text{#2}\gra_{#1}}
\newcommand{\SETOFM}{\MCAL}
\newcommand{\EVRATE}[2]{q_{#1, #2}}
\newcommand{\FACDERIV}[2]{\qtilde_{#1, #2}}
\newcommand{\TOTEVRATE}{Q}
\newcommand{\TOTFACDERIV}{\Qtilde}
\newcommand{\COULOMB}{\text{C}} % Coulomb potential
\newcommand{\BONDTYPE}{\text{bond}} % Coulomb potential
\newcommand{\BENDINGTYPE}{\text{bending}} % Coulomb potential
\newcommand{\LJTYPE}{\text{LJ}} % Coulomb potential
\newcommand{\COULOMBTYPE}{\text{Coulomb}} % Coulomb potential
\newcommand{\PAIRTYPE}{\text{pair}} % pair potential (general)

%
% chemistry, lengthscales and timescales
%
\newcommand{\hoh}{\text{H$_2$O}} % Water molecule
\newcommand{\BJERR}{l_\text{B}} % Bjerrum length
\newcommand{\taucorr}{\tau_\text{corr}}